open console as cmd

fn main {
  /*
    runs 1000000 coroutines using add go keywords before scope
    and use waiting scope to wait every coroutines in it
    and make canal(called channel in other languages)
  */
    
  var c = canal[str]
  await -> repeat i, 1_000_000 go {
    wait(50: second)
    c.add("that is the ${i} time that i see you!")
  }
  c.for_each(x -> cmd.print(x: ln))
}
